"use strict";var menuMobile=document.getElementById("menu"),menuMobileOpenBtn=document.querySelector(".header__menu-toggle"),menuMobileCloseBtn=menuMobile.querySelector(".menu-mobile__close");menuMobileOpenBtn.onclick=function(e){e.preventDefault(),elementOpen(menuMobile,"menu-mobile--shown",!1)},menuMobileCloseBtn.onclick=function(e){e.preventDefault(),elementClose(menuMobile,"menu-mobile--shown",!1)};for(var menuLinks=document.querySelectorAll(".menu__link"),_loop=function(n){"#"===menuLinks[n].getAttribute("href")[0]&&(menuLinks[n].onclick=function(e){e.preventDefault(),document.getElementById(menuLinks[n].hash.substring(1)).scrollIntoView({behavior:"smooth"}),history.pushState(null,null,menuLinks[n].hash),menuMobile.contains(menuLinks[n])&&elementClose(menuMobile,"menu-mobile--shown",!1)})},i=0;i<menuLinks.length;i++)_loop(i);var overlay=document.querySelector(".overlay"),filter=document.querySelector(".filter");if(filter){var filterOpenBtn=document.querySelector(".catalog__filter"),filterCloseBtn=filter.querySelector(".filter__close");filterOpenBtn.onclick=function(e){e.preventDefault(),elementOpen(filter,"filter--shown")},filterCloseBtn.onclick=function(e){e.preventDefault(),elementClose(filter,"filter--shown")}}var sorting=document.querySelector(".sorting");if(sorting){var sortingToggleBtn=sorting.querySelector(".sorting__option--toggle"),sortingOptions=sorting.querySelectorAll(".sorting__options .sorting__option"),sortingOptionsHeight=sortingToggleBtn.offsetHeight*sortingOptions.length,styleElmnt=document.createElement("style");document.head.appendChild(styleElmnt),styleElmnt.sheet.insertRule("@keyframes sorting{from{height:0}to{height:".concat(sortingOptionsHeight,"px}}"),0),sortingToggleBtn.onclick=function(e){e.preventDefault(),sorting.classList.contains("sorting--opened")?sortingClose():(elementOpen(sorting,"sorting--opened",!1),window.addEventListener("click",handleOutsideClick))};for(var _i=0;_i<sortingOptions.length;_i++)sortingOptions[_i].onclick=function(){sortingClose()}}var reservation=document.querySelector(".modal--reservation"),thanks=document.querySelector(".modal--thanks");if(reservation){var reservationOpenBtn=document.querySelector(".room__button"),reservationCloseBtn=reservation.querySelector(".modal__close");reservationOpenBtn.onclick=function(e){e.preventDefault(),elementOpen(reservation,"modal--shown")},reservationCloseBtn.onclick=function(e){e.preventDefault(),elementClose(reservation,"modal--shown")};var thanksOkBtn=thanks.querySelector(".button"),thanksCloseBtn=thanks.querySelector(".modal__close"),reservationForm=reservation.querySelector(".reservation-form");reservationForm.onsubmit=function(e){e.preventDefault(),elementClose(reservation,"modal--shown",!1),elementOpen(thanks,"modal--shown",!1)};for(var _i2=0,j=[thanksOkBtn,thanksCloseBtn];_i2<j.length;_i2++)j[_i2].onclick=function(e){e.preventDefault(),elementClose(thanks,"modal--shown")}}function elementOpen(e,n){var t=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];e.classList.add(n),t&&elementOpen(overlay,"overlay--shown",!1)}function elementClose(e,n){var t=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:e;cssAnimationReset(e,n),o.style.animationDirection="reverse",t&&elementClose(overlay,"overlay--shown",!1),window.setTimeout(function(){e.classList.remove(n),o.removeAttribute("style")},500)}function sortingClose(){elementClose(sorting,"sorting--opened",!1,sorting.lastChild),window.removeEventListener("click",handleOutsideClick)}function handleOutsideClick(e){sorting.contains(e.target)||(e.preventDefault(),sortingClose())}function cssAnimationReset(e,n){e.classList.remove(n),e.offsetWidth,e.classList.add(n)}window.onkeydown=function(e){27===e.keyCode&&(e.preventDefault(),menuMobile.classList.contains("menu-mobile--shown")&&elementClose(menuMobile,"menu-mobile--shown",!1),filter&&filter.classList.contains("filter--shown")&&elementClose(filter,"filter--shown"),sorting&&sorting.classList.contains("sorting--opened")&&sortingClose(),reservation&&reservation.classList.contains("modal--shown")&&elementClose(reservation,"modal--shown"),thanks&&thanks.classList.contains("modal--shown")&&elementClose(thanks,"modal--shown"))},overlay&&(overlay.onclick=function(){filter&&filter.classList.contains("filter--shown")&&elementClose(filter,"filter--shown"),reservation&&reservation.classList.contains("modal--shown")&&elementClose(reservation,"modal--shown"),thanks&&thanks.classList.contains("modal--shown")&&elementClose(thanks,"modal--shown")}),document.querySelector(".slider--rooms .slider__inner")&&new Glide(".slider--rooms .slider__inner",{type:"carousel",gap:30,classes:{activeNav:"slider__bullet--active"}}).mount(),document.querySelector(".slider--testimonials .slider__inner")&&new Glide(".slider--testimonials .slider__inner",{type:"carousel",perView:2,gap:30,breakpoints:{943:{perView:1},767:{perView:2},639:{perView:1}},classes:{activeNav:"slider__bullet--active"}}).mount(),document.querySelector(".room__gallery")&&new Glide(".room__gallery",{type:"carousel",gap:30,classes:{activeNav:"room__gallery-preview--active"}}).mount(),ymaps.ready(function(){var e=new ymaps.Map(document.querySelector(".contacts__map"),{center:[59.938635,30.323118],zoom:16});e.controls.remove("searchControl"),e.controls.remove("routeButtonControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("rulerControl");var n=new ymaps.Placemark(e.getCenter(),{hintContent:"Санкт-Петербург,<br>ул Большая Конюшенная, д 19"},{iconLayout:"default#image",iconImageHref:"img/contacts_map-marker.svg",iconImageSize:[54,77],iconImageOffset:[-27,-52]});e.geoObjects.add(n)});
//# sourceMappingURL=script.min.js.map
